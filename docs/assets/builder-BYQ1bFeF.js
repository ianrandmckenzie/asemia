const R={"7xl":.6,"6xl":.5,"5xl":.4,"4xl":.3,"3xl":.25,"2xl":.2,xl:.167,lg:.15,base:.133,sm:.117,xs:.1};let M="7xl";async function P(){if(!window.rulesData){console.warn("rulesData not available yet, waiting..."),setTimeout(P,50);return}F(),K(),te(),J(),window.addEventListener("resize",J),k("serifs"),console.log("Mobile builder initialized")}function F(){const e=document.getElementById("mobileSerifTab"),t=document.getElementById("mobileBodiesTab"),i=document.getElementById("mobileJoinsTab");e&&(T("serifs","mobileSerifShapes"),T("bodies","mobileBodiesShapes"),T("joins","mobileJoinsShapes"),e.addEventListener("click",()=>k("serifs")),t.addEventListener("click",()=>k("bodies")),i.addEventListener("click",()=>k("joins")))}function T(e,t){var n;const i=document.getElementById(t);if(!i||!((n=window.rulesData)!=null&&n.shapes))return;i.innerHTML="";const o=window.rulesData.shapes[e];o&&Object.keys(o).forEach(s=>{if(s==="grid")return;o[s].forEach(r=>{const a=Z(e,s,r);i.appendChild(a)})})}function Z(e,t,i){var s;const o=document.createElement("button");o.className="mobile-shape-btn",o.dataset.category=e,o.dataset.angleKey=t,o.dataset.shapeName=i.shape_name;const n=(s=window.SVGUtils)==null?void 0:s.createSVGElement(e,t,i.shape_name,"h-8 w-auto object-contain pointer-events-none");return n?o.appendChild(n):o.textContent=i.shape_name.substring(0,2),o.addEventListener("click",()=>{Q(o,e,t,i)}),o}function Q(e,t,i,o){document.querySelectorAll(".mobile-shape-btn.selected").forEach(s=>{s.classList.remove("selected")}),document.querySelectorAll(".shape-selected").forEach(s=>{s.classList.remove("shape-selected","bg-blue-200","border-blue-500")}),e.classList.add("selected");const n={category:t,angleKey:i,shape:o,imagePath:`./assets/shapes/${t}/${i}/${o.shape_name}.svg`};window.setSelectedShape&&window.setSelectedShape(n),window.updateSelectedShapeDisplay&&window.updateSelectedShapeDisplay()}let G=null;function k(e){const t={serifs:document.getElementById("mobileSerifTab"),bodies:document.getElementById("mobileBodiesTab"),joins:document.getElementById("mobileJoinsTab")},i={serifs:document.getElementById("mobileSerifShapes"),bodies:document.getElementById("mobileBodiesShapes"),joins:document.getElementById("mobileJoinsShapes")},o=document.getElementById("mobileShapeSelectorWrapper");if(G===e){o&&o.classList.add("hidden"),Object.keys(t).forEach(n=>{t[n]&&(t[n].className="mobile-tab flex-1 py-3 px-2 bg-gray-200 dark:bg-slate-700 border-r border-gray-300 dark:border-gray-700")}),Object.keys(i).forEach(n=>{i[n]&&i[n].classList.add("hidden")}),G=null;return}Object.keys(i).forEach(n=>{i[n]&&i[n].classList.add("hidden")}),o&&o.classList.remove("hidden"),i[e]&&i[e].classList.remove("hidden"),Object.keys(t).forEach(n=>{t[n]&&(n===e?t[n].className="mobile-tab flex-1 py-3 px-2 bg-white dark:bg-slate-800 border-r border-gray-300 dark:border-gray-700":t[n].className="mobile-tab flex-1 py-3 px-2 bg-gray-200 dark:bg-slate-700 border-r border-gray-300 dark:border-gray-700")}),G=e,window.setCurrentTab&&(e==="bodies"||e==="serifs"?window.setCurrentTab("bodies"):e==="joins"&&window.setCurrentTab("joins")),window.updateGridLayers&&window.updateGridLayers()}function K(){const e=document.getElementById("mobileSaveMenuBtn"),t=document.getElementById("mobileSizeBtn"),i=document.getElementById("mobilePreviewBtn"),o=document.getElementById("mobileSaveMenu"),n=document.getElementById("mobileSizeMenu"),s=document.getElementById("closeSaveMenu"),l=document.getElementById("closeSizeMenu");if(!e)return;e.addEventListener("click",()=>{o.classList.remove("hidden")}),s.addEventListener("click",()=>{o.classList.add("hidden")}),o.addEventListener("click",h=>{h.target===o&&o.classList.add("hidden")}),t.addEventListener("click",()=>{n.classList.remove("hidden")}),l.addEventListener("click",()=>{n.classList.add("hidden")}),n.addEventListener("click",h=>{h.target===n&&n.classList.add("hidden")});let r=!1;i.addEventListener("click",()=>{r=!r,window.setPreviewMode&&window.setPreviewMode(r);const h=document.getElementById("mobilePreviewIcon");h&&(h.src=r?"/assets/icons/eye-slash.svg":"/assets/icons/eye.svg")});const a=document.getElementById("mobileEraseBtn");a&&ee(a)}let L=!1;function ee(e){e.addEventListener("click",()=>{L=!L;const t=e.querySelector("span"),i=document.getElementById("mobileEraseIcon");L?(e.classList.add("bg-red-100","dark:bg-red-900"),t&&(t.classList.remove("text-gray-600","dark:text-gray-300"),t.classList.add("text-red-700","dark:text-red-300")),i&&(i.src="/assets/icons/erasing.svg")):(e.classList.remove("bg-red-100","dark:bg-red-900"),t&&(t.classList.remove("text-red-700","dark:text-red-300"),t.classList.add("text-gray-600","dark:text-gray-300")),i&&(i.src="/assets/icons/erase.svg"));const o=document.querySelector(".builder-grids-wrapper");o&&(L?o.style.cursor="crosshair":o.style.cursor="")})}window.isEraseMode=()=>L;function te(){const e=document.getElementById("mobileSizeButtons");if(!e)return;["7xl","6xl","5xl","4xl","3xl","2xl","xl","lg","base","sm","xs"].forEach(i=>{const o=document.createElement("button");o.className=`px-4 py-3 rounded-lg text-sm font-medium transition-colors ${i===M?"bg-blue-500 text-white":"bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-slate-600"}`,o.textContent=i,o.addEventListener("click",()=>{M=i,Y(i),document.getElementById("mobileSizeMenu").classList.add("hidden"),e.querySelectorAll("button").forEach(n=>{n===o?n.className="px-4 py-3 rounded-lg text-sm font-medium transition-colors bg-blue-500 text-white":n.className="px-4 py-3 rounded-lg text-sm font-medium transition-colors bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-slate-600"})}),e.appendChild(o)})}function Y(e){const t=R[e]||R["5xl"],i=document.querySelector(".builder-grids-wrapper");i&&(i.style.transform=`scale(${t})`)}function J(){if(window.innerWidth<768)Y(M);else{const t=document.querySelector(".builder-grids-wrapper");t&&(t.style.transform="scale(1)")}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{setTimeout(P,100)}):setTimeout(P,100);let c=null,d=null,S="bodies",B=!1;const E={positioning:{joins:{"2x1":{"67_5_deg":{top:{vertical:"bottom: -14%",horizontal:{right:"right: -5%",left:"left: -5%"}},bottom:{vertical:"top: -14%",horizontal:{right:"right: -5%",left:"left: -5%"}}},"112_5_deg":{top:{vertical:"bottom: -15%",horizontal:{right:"left: -27%",left:"right: -27%"}},bottom:{vertical:"top: -15%",horizontal:{right:"left: -27%",left:"right: -27%"}}},"135_deg":{top:{vertical:"bottom: -15%",horizontal:{right:"left: -15%",left:"right: -15%"}},bottom:{vertical:"top: -15%",horizontal:{right:"left: -15%",left:"right: -15%"}}},default:{top:{vertical:"bottom: 5%",horizontal:{right:"left: -17%",left:"right: -17%"}},bottom:{vertical:"top: 5%",horizontal:{right:"left: -17%",left:"right: -17%"}}}},"1x2":{"67_5_deg":{top:{vertical:"top: -5%",horizontal:{left:"right: 27%",right:"left: 27%"}},bottom:{vertical:"bottom: -5%",horizontal:{left:"right: 27%",right:"left: 27%"}}},"112_5_deg":{top:{vertical:"top: 27%",horizontal:{left:"left: -5%",right:"right: -5%"}},bottom:{vertical:"bottom: 27%",horizontal:{left:"left: -5%",right:"right: -5%"}}},"135_deg":{top:{vertical:"bottom: -15%",horizontal:{left:"right: -15%",right:"left: -15%"}},bottom:{vertical:"top: -15%",horizontal:{left:"right: -15%",right:"left: -15%"}}},default:{top:{vertical:"bottom: -17%",horizontal:{left:"right: 5%",right:"left: 5%"}},bottom:{vertical:"top: -17%",horizontal:{left:"right: 5%",right:"left: 5%"}}}},"1x1":{"45_deg":{top:{vertical:"top: -5%",horizontal:{left:"left: -5%",right:"right: -5%"}},bottom:{vertical:"bottom: -5%",horizontal:{left:"left: -5%",right:"right: -5%"}}},"90_deg":{top:{vertical:"top: -5%",horizontal:{left:"left: -5%",right:"right: -5%"}},bottom:{vertical:"bottom: -5%",horizontal:{left:"left: -5%",right:"right: -5%"}}}}},serifs:{"22_5_deg":{br_to_tl:{type:"special",right:"-7%",vertical:{top:{top:"0"},bottom:{bottom:"0"},center:{top:"50%",transform:"translateY(-50%)"}}},tr_to_bl:{type:"special",right:"-7%",vertical:{top:{top:"0"},bottom:{bottom:"0"},center:{top:"50%",transform:"translateY(-50%)"}}},bl_to_tr:{type:"special",left:"-7%",vertical:{top:{top:"0"},bottom:{bottom:"0"},center:{top:"50%",transform:"translateY(-50%)"}}},tl_to_br:{type:"special",left:"-7%",vertical:{top:{top:"0"},bottom:{bottom:"0"},center:{top:"50%",transform:"translateY(-50%)"}}},side:{type:"side",bottom:{top:"-7%",right:"0",maxHeight:"200%"},top:{bottom:"-7%",left:"0",maxHeight:"200%"},default:{top:"0"},horizontal:{left:{left:"0"},right:{right:"0"},center:{left:"50%",transform:"translateX(-50%)"}}},regular:{type:"regular",horizontal:{right:{left:"-25%",maxWidth:"200%"},left:{right:"-25%",maxWidth:"200%"},default:{left:"0"}},vertical:{top:{top:"0"},bottom:{bottom:"0"},center:{top:"50%",transform:"translateY(-50%)"}}}},"45_deg":{tl_to_br:{right:"0%",top:"0%"},bl_to_tr:{right:"0%",bottom:"0%"},tr_to_bl:{left:"0%",top:"0%"},br_to_tl:{left:"0%",bottom:"0%"},side_tl_to_br:{right:"0%",bottom:"0%"},side_bl_to_tr:{right:"0%",top:"0%"},side_tr_to_bl:{left:"0%",bottom:"0%"},side_br_to_tl:{left:"0%",top:"0%"}}},bodies:{"2x1":{type:"topLeft"},"1x2":{type:"topLeft"},"1x1":{type:"standard"}},standard:{vertical:{top:{top:"0",transform:{center:"translateX(-50%)",default:""}},center:{top:"50%",transform:{center:"translate(-50%, -50%)",default:"translateY(-50%)"}},bottom:{bottom:"0",transform:{center:"translateX(-50%)",default:""}}},horizontal:{left:{left:"0"},center:{left:"50%"},right:{right:"0"}}}}};async function C(){await X(),oe(),re(),he(),ge(),ue(),z(),window.getCellPosition=N,window.getCellByPosition=_,window.getOccupiedCells=j,window.clearCellHighlights=I,window.placeShapeInCell=U,window.applyPositioning=H,window.rulesData=c,window.shapeConfig=E,window.getSelectedShape=()=>d,window.setSelectedShape=e=>{d=e},window.handleGridCellClick=$,window.handleGridCellRightClick=q,window.handleGridCellLeave=V,window.updateSelectedShapeDisplay=A,window.updateGridLayers=z,window.getCurrentTab=()=>S,window.setCurrentTab=e=>{S=e},window.getPreviewMode=()=>B,window.setPreviewMode=e=>{B=e,document.body.classList.toggle("preview-mode",e)},console.log("Builder functions made globally accessible")}async function ie(){await X(),window.getCellPosition=N,window.getCellByPosition=_,window.getOccupiedCells=j,window.clearCellHighlights=I,window.placeShapeInCell=U,window.applyPositioning=H,window.rulesData=c,window.shapeConfig=E,console.log("Builder core functions initialized")}async function X(){try{c=await(await fetch("./assets/rules.json")).json()}catch(e){console.error("Failed to load rules.json:",e)}}function oe(){ne(),se()}function ne(){const e=document.getElementById("serifsGrid");if(e){e.innerHTML="";for(let t=0;t<25;t++){const i=document.createElement("div");i.className="w-[100px] h-[100px] relative cursor-pointer grid-cell",i.dataset.grid="serifs",i.dataset.index=t,i.addEventListener("click",$),i.addEventListener("contextmenu",q),i.addEventListener("mouseenter",D),i.addEventListener("mouseleave",V),e.appendChild(i)}}}function se(){const e=document.getElementById("joinsGrid");if(e){e.innerHTML="";for(let t=0;t<16;t++){const i=document.createElement("div");i.className="w-[100px] h-[100px] relative cursor-pointer grid-cell",i.dataset.grid="joins",i.dataset.index=t,i.addEventListener("click",$),i.addEventListener("contextmenu",q),i.addEventListener("mouseenter",D),i.addEventListener("mouseleave",V),e.appendChild(i)}}}function re(){le(),ae(),de()}function le(){var t;const e=document.getElementById("bodiesShapes");if(e){if(e.innerHTML="",!((t=c==null?void 0:c.shapes)!=null&&t.bodies))return;Object.keys(c.shapes.bodies).forEach(i=>{if(i==="grid")return;c.shapes.bodies[i].forEach(n=>{const s=O("bodies",i,n);e.appendChild(s)})})}}function ae(){var t;const e=document.getElementById("serifsShapes");if(e){if(e.innerHTML="",!((t=c==null?void 0:c.shapes)!=null&&t.serifs))return;Object.keys(c.shapes.serifs).forEach(i=>{if(i==="grid")return;c.shapes.serifs[i].forEach(n=>{const s=O("serifs",i,n);e.appendChild(s)})})}}function de(){var t;const e=document.getElementById("joinsShapes");if(e){if(e.innerHTML="",!((t=c==null?void 0:c.shapes)!=null&&t.joins))return;Object.keys(c.shapes.joins).forEach(i=>{if(i==="grid")return;c.shapes.joins[i].forEach(n=>{const s=O("joins",i,n);e.appendChild(s)})})}}function O(e,t,i){const o=document.createElement("button");o.className="w-12 h-12 border border-gray-300 dark:border-gray-700 rounded hover:border-blue-500 dark:hover:border-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/40 flex items-center justify-center relative shape-button";let n=null;return window.SVGUtils&&window.SVGUtils.createSVGElement&&(n=window.SVGUtils.createSVGElement(e,t,i.shape_name,"w-8 h-8 object-contain")),n?(n.setAttribute("alt",i.shape_name),o.appendChild(n)):(o.textContent=i.shape_name.substring(0,2),o.className+=" text-xs font-mono",console.warn(`Could not create SVG for ${e}/${t}/${i.shape_name}, using text fallback`)),o.dataset.category=e,o.dataset.angleKey=t,o.dataset.shapeName=i.shape_name,o.dataset.cellOrientation=i.cell_orientation,o.addEventListener("click",()=>ce(o,e,t,i)),o}function ce(e,t,i,o){document.querySelectorAll(".shape-selected").forEach(n=>{n.classList.remove("shape-selected","bg-blue-200","border-blue-500","dark:bg-blue-800/40","dark:border-blue-400")}),e.classList.add("shape-selected","bg-blue-200","border-blue-500","dark:bg-blue-800/40","dark:border-blue-400"),d={category:t,angleKey:i,shape:o,imagePath:`./assets/shapes/${t}/${i}/${o.shape_name}.svg`},A()}function N(e,t){if(t==="serifs"){const i=Math.floor(e/5),o=e%5;return{row:i,col:o,gridSize:5}}else if(t==="joins"){const i=Math.floor(e/4),o=e%4;return{row:i,col:o,gridSize:4}}}function _(e,t,i){const o=i==="serifs"?5:4;if(e<0||t<0||e>=o||t>=o)return null;const n=e*o+t;return document.getElementById(i+"Grid").children[n]}function j(e,t){const i=e.dataset.grid,o=parseInt(e.dataset.index),n=N(o,i),s=t.shape.width||1,l=t.shape.height||1,r=[];if(s===2&&l===1){r.push(e);const a=_(n.row,n.col+1,i);a&&r.push(a)}else if(s===1&&l===2){r.push(e);const a=_(n.row+1,n.col,i);a&&r.push(a)}else r.push(e);return r}function D(e){if(!d)return;const t=e.currentTarget,i=t.dataset.grid,o=c.shapes[d.category].grid;if(i!==o)return;I(),j(t,d).forEach(s=>{s&&s.classList.add("cell-highlight")})}function V(e){I()}function I(){document.querySelectorAll(".cell-highlight, .cell-highlight-valid, .cell-highlight-invalid").forEach(e=>{e.classList.remove("cell-highlight","cell-highlight-valid","cell-highlight-invalid")})}function $(e){if(window.isEraseMode&&window.isEraseMode()){const r=e.currentTarget;r.innerHTML="";return}if(!d){alert("Please select a shape from the sidebar first");return}const t=e.currentTarget,i=t.dataset.grid,o=c.shapes[d.category].grid;if(i!==o){alert(`This shape can only be placed on the ${o} grid`);return}const n=j(t,d);if(n.some(r=>!r)){alert("Shape extends beyond grid boundaries");return}if(typeof validateShapeConnections=="function"&&!validateShapeConnections(t,d)){console.log("Placement blocked by constraints");return}const l=typeof validateShapeConnections=="function"||d.category!=="bodies"&&d.category!=="joins"||d.shape.width>1||d.shape.height>1;l&&n.forEach(r=>{r&&(r.innerHTML="")}),U(t,d,!l)}function fe(e,t){const{angleKey:i,shape:o}=t,n=o.width||1,s=o.height||1,l=o.cell_orientation,r=`${n}x${s}`,a=E.positioning.joins[r];if(!a)return;const h=a[i]||a.default,m=l.includes("top")?"top":"bottom",u=h[m],p=u.vertical.split(": ");e.style[p[0]]=p[1];const g=l.includes("right")?"right":"left",b=u.horizontal[g].split(": ");e.style[b[0]]=b[1],e.style.transform=""}function H(e,t){const{category:i,angleKey:o,shape:n}=t,s=n.width||1,l=n.height||1,r=n.cell_orientation.split(" "),a=r[0],h=r[1];if(e.style.transform="",i==="joins"&&(s===2||l===2))return fe(e,t);if(i==="joins"&&s===1&&l===1){const u=E.positioning.joins["1x1"][o];if(u){const p=r.includes("top")?"top":"bottom",g=u[p];if(g){const b=g.vertical.split(": ");e.style[b[0]]=b[1];const x=r.includes("right")?"right":"left",f=g.horizontal[x].split(": ");e.style[f[0]]=f[1],e.style.transform="";return}}e.style.top="-5%",e.style.left="-5%",e.style.transform="";return}if(i==="bodies"&&(s===2||l===2)){e.style.top="0",e.style.left="0",e.style.transform="";return}if(i==="serifs"){const m=E.positioning.serifs[o];if(!m)return W(e,a,h);if(o==="22_5_deg"){const u=n.shape_name;if(m[u]){const f=m[u];f.left&&(e.style.left=f.left),f.right&&(e.style.right=f.right);const y=f.vertical[a];y&&Object.keys(y).forEach(w=>{e.style[w]=y[w]});return}if(n.cell_orientation.includes("top")||n.cell_orientation.includes("bottom")){const f=m.side,y=f[a]||f.default;Object.keys(y).forEach(v=>{v!=="transform"&&(e.style[v]=y[v])});const w=f.horizontal[h];w&&Object.keys(w).forEach(v=>{e.style[v]=w[v]});return}const g=m.regular,b=g.horizontal[h]||g.horizontal.default,x=g.vertical[a];Object.keys(b).forEach(f=>{e.style[f]=b[f]}),x&&Object.keys(x).forEach(f=>{e.style[f]=x[f]});return}if(o==="45_deg"){const u=n.shape_name,p=m[u];if(p){Object.keys(p).forEach(g=>{e.style[g]=p[g]});return}}}W(e,a,h)}function W(e,t,i){const o=E.positioning.standard,n=o.vertical[t];n&&Object.keys(n).forEach(l=>{if(l==="transform"){const r=n[l];e.style.transform=r[i]||r.default}else e.style[l]=n[l]});const s=o.horizontal[i];s&&(Object.keys(s).forEach(l=>{e.style[l]=s[l]}),i==="center"&&t!=="center"&&(e.style.transform="translateX(-50%)"))}function U(e,t,i=!1){i||(e.innerHTML="");const o="absolute";let n=null;if(window.SVGUtils&&window.SVGUtils.createSVGElement&&(n=window.SVGUtils.createSVGElement(t.category,t.angleKey,t.shape.shape_name,o)),!n){console.warn("Could not create SVG for shape:",t);const s=document.createElement("div");s.textContent=t.shape.shape_name,s.className=o+" text-xs font-mono text-center text-gray-600 dark:text-gray-300",s.style.display="flex",s.style.alignItems="center",s.style.justifyContent="center",e.appendChild(s);return}n.setAttribute("alt",t.shape.shape_name),H(n,t),e.appendChild(n)}function he(){const e=document.getElementById("bodiesTab"),t=document.getElementById("joinsTab"),i=document.getElementById("bodiesContent"),o=document.getElementById("joinsContent");e&&(e.addEventListener("click",()=>{S="bodies",e.className="flex-1 py-3 px-4 bg-white dark:bg-slate-800 border-r border-gray-300 dark:border-gray-700 font-medium text-gray-900 dark:text-gray-100",t.className="flex-1 py-3 px-4 bg-gray-200 dark:bg-slate-700 font-medium text-gray-700 dark:text-gray-200",i.classList.remove("hidden"),o.classList.add("hidden"),z()}),t.addEventListener("click",()=>{S="joins",t.className="flex-1 py-3 px-4 bg-white dark:bg-slate-800 border-r border-gray-300 dark:border-gray-700 font-medium text-gray-900 dark:text-gray-100",e.className="flex-1 py-3 px-4 bg-gray-200 dark:bg-slate-700 font-medium text-gray-700 dark:text-gray-200",o.classList.remove("hidden"),i.classList.add("hidden"),z()}))}function q(e){e.preventDefault();const t=e.currentTarget;t.innerHTML=""}function A(){const e=document.getElementById("selectedShapeDisplay"),t=document.getElementById("selectedShapeInfo");d?(e.classList.remove("hidden"),t.textContent=`${d.category} > ${d.angleKey} > ${d.shape.shape_name}`):e.classList.add("hidden")}function ge(){document.getElementById("clearSelection")&&document.getElementById("clearSelection").addEventListener("click",()=>{d=null,document.querySelectorAll(".shape-selected").forEach(t=>{t.classList.remove("shape-selected","bg-blue-200","border-blue-500")}),A()})}function ue(){const e=document.getElementById("previewToggle");e&&e.addEventListener("change",t=>{B=t.target.checked,document.body.classList.toggle("preview-mode",B)})}function z(){const e=document.getElementById("serifsGrid"),t=document.getElementById("joinsGrid");e&&(S==="bodies"?(e.style.zIndex="20",t.style.zIndex="10",e.classList.remove("grid-inactive"),e.classList.add("grid-active"),t.classList.remove("grid-active"),t.classList.add("grid-inactive")):S==="joins"&&(t.style.zIndex="20",e.style.zIndex="10",t.classList.remove("grid-inactive"),t.classList.add("grid-active"),e.classList.remove("grid-active"),e.classList.add("grid-inactive")))}document.addEventListener("DOMContentLoaded",()=>{window.SVGUtils&&window.SVGUtils.isReady&&window.SVGUtils.isReady()?C():(document.addEventListener("svgSystemReady",C),setTimeout(()=>{window.SVGUtils&&window.SVGUtils.isReady&&window.SVGUtils.isReady()&&(document.removeEventListener("svgSystemReady",C),C())},100))});window.initBuilderCore=ie;
